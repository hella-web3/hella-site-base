<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>
        {% if page.title %}
        {{ page.title }} | {{ site.data.settings.title }}
        {% else %}
        {{ site.data.settings.title }} | {{ site.data.settings.description }}
        {% endif %}
    </title>
    <meta name="description"
          content='
            {% if page.description %}
              {{ page.description | strip_html | strip_newlines | truncate: 160 }}
            {% elsif page.excerpt %}
                {{ page.excerpt | strip_html | strip_newlines | truncate: 160 }}
            {% else %}
              {{ site.data.settings.description | strip_html | strip_newlines | truncate: 160 }}
            {% endif %}'>

  <meta name="author" content="{{ site.data.settings.site_author | default: site.data.settings.title }}">

  <meta name="keywords" content="
    {% if page.tags %}
        {{ page.tags | join: ', ' }}
    {% else %}
        {{ site.data.settings.keywords }}
    {% endif %}">

  <link rel="canonical" href="{{ page.url | replace:'index.html','' | absolute_url }}">
  <link rel="alternate" type="application/rss+xml" title="{{ site.title | escape }}" href='{{ "/feed.xml" | relative_url }}'>
  <link rel="icon" type="image/png" href="{{ '/favicon.png' | relative_url }}">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content='{% if page.url == "/" %}{{ site.data.settings.title }}{% else %}{{ page.title }} – {{ site.data.settings.title }}{% endif %}'>
  <meta name="twitter:description" content='{% if page.url == "/" %}{{ site.data.settings.description | strip_html | xml_escape }}{% elsif page.description %}{{ page.description | strip_html | xml_escape }}{% else %}{{ page.excerpt | strip_html | xml_escape }}{% endif %}'>
  <meta name="twitter:image:src" content='{% if page.image %}{{ page.image | absolute_url }}{% else %}{{ site.data.settings.default_image | absolute_url }}{% endif %}'>
  <meta name="twitter:site" content="@{{ site.data.settings.twitter_username | default: '' }}">
  <meta name="twitter:creator" content="@{{ site.data.settings.twitter_username | default: '' }}">

  <!-- Facebook OpenGraph -->
  <meta property="og:title" content='{% if page.url == "/" %}{{ site.data.settings.title }}{% else %}{{ page.title }} – {{ site.data.settings.title }}{% endif %}'>
  <meta property="og:description" content='{% if page.url == "/" %}{{ site.data.settings.description | strip_html | xml_escape }}{% elsif page.description %}{{ page.description | strip_html | xml_escape }}{% else %}{{ page.excerpt | strip_html | xml_escape }}{% endif %}'>
  <meta property="og:image" content='{% if page.image %}{{ page.image | absolute_url }}{% else %}{{ site.data.settings.default_image | absolute_url }}{% endif %}'>
  <meta property="og:url" content="{{ page.url | replace:'index.html','' | absolute_url }}">
  <meta property="og:type" content="{% if page.layout == 'post' %}article{% else %}website{% endif %}">
  <meta property="og:site_name" content="{{ site.data.settings.title }}">

  {% if page.layout == 'post' %}
  <!-- Structured Data for Blog Posts -->
  <script type="application/ld+json">
      {
          "@context": "https://schema.org",
          "@type": "BlogPosting",
          "headline": "{{ page.title }}",
          "description": "{% if page.description %}{{ page.description | strip_html | xml_escape }}{% else %}{{ page.excerpt | strip_html | xml_escape }}{% endif %}",
          "image": "{% if page.image %}{{ page.image | absolute_url }}{% else %}{{ site.data.settings.default_image | absolute_url }}{% endif %}",
          "datePublished": "{{ page.date | date_to_xmlschema }}",
          "dateModified": "{{ page.date | date_to_xmlschema }}",
          "author": {
              "@type": "Person",
              "name": "{{ site.data.settings.site_author | default: site.data.settings.title }}"
          },
          "publisher": {
              "@type": "Organization",
              "name": "{{ site.data.settings.title }}",
              "url": "{{ site.url }}",
              "logo": {
                  "@type": "ImageObject",
                  "url": "{{ '/favicon.png' | absolute_url }}"
              },
              "sameAs": [
                  "{{ site.data.settings.twitter_url }}",
                  "{{ site.data.settings.facebook_url }}"
              ]
          },
          "mainEntityOfPage": {
              "@type": "WebPage",
              "@id": "{{ page.url | replace:'index.html','' | absolute_url }}"
          }
      }
  </script>
  {% else %}
  <!-- Structured Data for Website -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "{{ site.data.settings.title }}",
    "description": "{{ site.data.settings.description }}",
    "url": "{{ site.url }}{{ site.baseurl }}/"
  }
  </script>
  {% endif %}

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto+Mono:ital,wght@0,100..700;1,100..700&display=swap" rel="stylesheet">


  <script>
    const defaultTheme = "{{ site.data.settings.color_scheme.default }}";
    const isToggleEnabled = "{{ site.data.settings.color_scheme.toggle | jsonify }}";
    const userTheme = localStorage.getItem("theme");

    function setTheme(mode) {
      if (mode === "dark") {
        document.documentElement.setAttribute("dark", "");
        document.documentElement.classList.add("dark-mode");
      } else if (mode === "light") {
        document.documentElement.removeAttribute("dark");
        document.documentElement.classList.remove("dark-mode");
      }
    }

    if (isToggleEnabled) {
      if (userTheme) {
        setTheme(userTheme);
      } else {
        setTheme(defaultTheme);
      }
    } else {
      setTheme(defaultTheme);
    }

    if (localStorage.getItem("classView") === "list") {
      document.documentElement.setAttribute("list", "");
      document.documentElement.classList.add('view-list');
    }
  </script>

  <link rel="stylesheet" href="{{ '/css/main.css' | relative_url }}">
</head>